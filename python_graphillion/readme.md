# Python [Graphillion](https://github.com/takemaru/graphillion)を使った解法

## 概説
Graphillion を使うために、問題をグラフにします。
壁(`／`, `＼`)をグラフにするとややこしいので、壁で区切られた二等辺直角三角形同士の接続をグラフに見立てます。
閉路(グラフでいうところのCycle)の場合、接続の数は三角形の数と一致するため、Graphillionに見つけてもらったCycleのうち、最も長いリストが最大面積の閉区間ということができます。

## データモデルの詳細
グラフとして表現するために、正方形のマスを仮想的に上下に分けてインデックスを振っています。このインデックスをGraphillionに与えます。


### インデックス
下図のようにインデックスを振ります。

```
 --------- 
|１／|＼３|
|／２|４＼|
|---------|
|＼５|６／|
|７＼|／８|
 --------- 
```
この場合、インデックス2に注目すると接続は`(2, 4)`, `(2, 5)`の2つです。
(グラフとしての接続を図上に表すと)

別例として、数の場合はインデックス2の接続は`(2, 3)`, `(2, 5)`になります。
```
 --------- 
|１／|３／|
|／２|／４|
|---------|
|＼５|６／|
|７＼|／８|
 --------- 
```


## 『壁(`／`, `＼`)をグラフにするとややこしい』メモ
壁をグラフに見立ててCycleを見つけても、閉区間を見つけることはできる。
ただし、面積を解決しようとするとCycle同士の位置関係・包含関係を解決する必要がある。
とくに包含関係を解決しようとするとややこしくてグラフ化するメリットがほとんどなくなる。

```
A-B-C
| | |
D-E-F
```

上図が与えられたとき、Cycleとしては`ABED`, `BCFE`の二つ(欲しい答え)のほかにも`ACFD`が見つかる。  
`ABED`, `BCFE`を採用しつつ`ACFD`を棄却する必要があるが、BE間に頂点が複数紛れているケースまで含めて考えると、処理効率も悪そうだし、面倒この上ない感じ。
